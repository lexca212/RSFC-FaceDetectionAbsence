{% extends 'layouts/layout.html' %}
{% load day_convert %}
{% block content %}
<style>
    /* Fullscreen di mobile */
    @media (max-width: 768px) {
        .container-fullscreen {
            padding: 0 !important;
            margin: 0 !important;
            width: 100% !important;
            max-width: 100% !important;
        }

        .card-mobile {
            border-radius: 0 !important;
        }

        table td, table th {
            padding: 10px !important;
            font-size: 15px !important;
        }

        .table thead th {
            position: sticky;
            top: 0;
            background: #0d6efd;
            color: white;
            z-index: 10;
        }
    }

    /* Warna badge */
    .badge-libur {
        background-color: #6c757d;
    }
    .badge-cuti {
        background-color: #ffc107;
        color: #000;
    }
    .badge-shift {
        background-color: #198754;
    }
</style>


<div class="container container-fullscreen mt-3">

    <div class="card card-mobile shadow-sm">

        <div class="card-header bg-primary text-white text-center py-3">
            <h5 class="mb-0">
                Jadwal {{ user.name }} <br>
                <small>{{ user.nik }}</small> <br>
                <small>{{ bulan_text }} {{ tahun }}</small>
            </h5>
        </div>

        <div class="card-body p-2">

            <div class="table-responsive table-hover">
                <table class="table table-bordered text-center align-middle mb-0">

                    <thead>
                        <tr>
                            <th style="width: 90px;" class="col-1">Tanggal</th>
                            <th class="col-6">Hari</th>
                            <th class="col-5">Jadwal</th>
                        </tr>
                    </thead>

                    <tbody>
                        {% for item in jadwal_bulanan %}

                        {% with first=item.jadwal.0 %}
                        <tr
                            {% if first == "Libur" %}
                                class="bg-secondary"
                            {% elif first == "Cuti" %}
                                class="bg-warning"
                            {% elif first == "Izin" %}
                                class="bg-info"
                            {% endif %}
                        >
                            <td class="fw-bold">{{ item.tanggal }}</td>
                            <td>{{ item.hari|hari_id }}</td>
                            <td>
                                {% if first == "-" %}
                                    <span class="badge bg-secondary" style="font-size:16px;">-</span>

                                {% elif first == "Libur" %}
                                    <span class="badge bg-secondary" style="font-size:16px;">Libur</span>

                                {% elif first == "Cuti" %}
                                    <span class="badge bg-warning text-dark" style="font-size:16px;">Cuti</span>

                                {% elif first == "Izin" %}
                                    <span class="badge bg-info" style="font-size:16px;">Izin</span>

                                {% else %}
                                    {% for jam in item.jadwal %}
                                        <span class="badge bg-success" style="font-size:16px;">
                                            {{ jam }}
                                        </span>
                                    {% endfor %}
                                {% endif %}
                            </td>
                        </tr>
                        {% endwith %}

                        {% endfor %}
                    </tbody>

                </table>
            </div>
        </div>

    </div>

</div>

{% endblock %}